<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta content="telephone=no" name="format-detection"/>
    <meta name="viewport" content="width=device-width initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>绑定授权</title>
    <link rel="stylesheet" href="../css/reset.css"/>
    <link rel="stylesheet" href="../css/main.css"/>
</head>
<body>
<div class="main" data-key="0123456781234567">
   <nav>
       <p class="navTitle">授权绑定</p>
   </nav>
   <div class="content">
     <span class="tipsOne">购买宜定盈须先授权绑定宜人贷账号。</span>
     <span class="tipsTwo">没有账号？请先注册</span>
   </div>
    <form method="post" action="authorizationTwo.html" class="formBlock">
         <input type="text" class="inputText" placeholder="真实姓名（以保障账户资金安全）" autocorrect="off" autocapitalize="off" id="peopleName">
         <input type="text" class="inputText" placeholder="身份证号" autocorrect="off" autocapitalize="off" id="PeopleID" >
         <input type="text" class="inputText" placeholder="手机号" autocorrect="off" autocapitalize="off" id="iphoneNumber">
         <span class="errorText"></span>
        <input type="submit" value="下一步" >
    </form>
    <p class="loginTrips">宜人贷出借老用户，请<a href="login.html">登录</a></p>
</div>
<script type="text/javascript" src="../js/zepto.js"></script>
<script type="text/javascript"
<script type="text/javascript">

    var errorTextConfig = {
        iphone: {
            empty: "手机号码不能为空！",
            errorRule: "手机号码不符合规则！"
        },
        ID: {
            empty: "密码不能为空！",
            errorRule: "密码长度应在6-16之间！"
        },
        name:{
            empty:"姓名不能为空",
            errorRule:"请输入中文"
        }
    };
    var Login = (function(){
        var Login ={};

        //密钥
        var key = document.querySelector('.main').getAttribute('data-key'),
            iphone = document.querySelector('#iphoneNumber'),//电话
            peopleID = document.querySelector('#PeopleID'),//身份证
            name = document.querySelector('#peopleName'),//姓名
            regu = /^[a-zA-Z\u4e00-\u9fa5]+$/,//校验姓名 包含中文和英文
            regID = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,//校验身份证，是简单的校验
            submitButton = document.querySelector("input[type='submit']"),
            errorText = $('.errorText');//错误信息提示


        //验证手机号
        Login.checkPhoneNumber = function(){
            var iphoneValue = iphone.value.trim();
            if ((/^1[3|4|5|8|7][0-9]\d{4,8}$/.test(iphoneValue)) && iphoneValue.length === 11) {
                return true;
            }
            else if (iphoneValue.length === 0){
                return "empty";
            }

            else {
                return false;
            }

        };

        //检测姓名
        Login.checkChineseName = function(){
            var nameText = name.value.trim();
            if(nameText.length === 0){
                return "empty";
            }
            else if(regu.test(nameText)){
                return true;
            }
            return false;
        };

        //检测身份证
        Login.checkID = function(){
            var peopleIDText = peopleID.value.trim();
            if(peopleIDText.length === 0){
                return 'empty'
            }
            else if(regID.test(peopleIDText)){
                return true;
            }
            return false;
        };

        //submit 提交动作
        Login.submit = function(e){

            e.preventDefault();
        };

        //下一步按钮变红
        Login.sumbitCanChecked = function(){
            submitButton.style.backgroundColor = "#d72839";
        };

        //显示错误信息
        Login.showErrorAndFocus = function(errorTextArray){
            var i = 0,
                length = errorTextArray[0].length,
                errorTexts = "";
            for(i; i<length;i+= 1){
                errorTexts +=errorTextArray[1][i];
            }
            errorText.text(errorTexts);
        };

        //错误的输入框聚焦
        Login.errorInputFocus = function(errorTextArray){
            var i = 0,
                length = errorTextArray[0].length;
            errorTextArray[0][0].focus();
            for(i;i<length;i+=1){
                errorTextArray[0][i].style.border = "1px solid  red";
            }
        }

        //加密信息 返还json字符串

        Login.enctype =function(){

        };

       return Login;
    }());


</script>
<script>
    document.addEventListener("submit",function(e){
        alert("xx");
    });
</script>
</body>
</html>